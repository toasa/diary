### 土曜日

応用情報を勉強中。これまでの勉強遍歴だと、
興味の赴くままにトピックをつまみ食いしてきたので、
知識の抜け漏れが多いという弱点がわかった。
応用情報で一通り網羅的に勉強することで、
業界内の一般常識は知れるうれしさがある。

午前試験。150分で全80問。
つまり1問当たりにかけられる時間は112.5秒。
うーん、短いような長いような。
[過去問道場](https://www.ap-siken.com/apkakomon.php)で解いてみると、一瞬でわかる問題もちょこちょこある（体感２割）けど、
ほとんどは2分以上考えてる気がする。
まぁスピードを求めるフェーズはまだ先でええか。
１問１問しっかり理解していけ。

応用情報も CBT (Computer Based Testing) に移行：

https://www.ipa.go.jp/shiken/2026/ap_koudo_sc-cbt.html

> 春期（4月）と秋期（10月）であった試験実施を変更し、一定期間内に複数日で試験を実施する予定です（注釈2）。

---

XSS がよくわからなかったので、
AIさんに脆弱性のある web サイトを作ってもらう：

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>XSS Demo</title>
</head>
<body>
  <h1>XSS デモサイト</h1>

  <form method="GET">
    <input type="text" name="q" placeholder="何か入力">
    <button type="submit">送信</button>
  </form>

  <hr>

  <p>あなたの入力：</p>
  <div id="result">
    <script>
      // URLパラメータを取得
      const params = new URLSearchParams(location.search);
      const q = params.get("q");

      // ⚠ 脆弱：エスケープせずにHTMLとして出力
      if (q) {
        document.write(q);
      }
    </script>
  </div>
</body>
</html>
```

フォームに入力する文字が、通常？の文章だと問題ないのだが、
`<script>alert("XSS成功")</script>` のように JS として意味がある文を入力すると、ブラウザのJSエンジンがスクリプトとして実行してしまう。
つまり `document.write()` がまずいってことか。
ドキュメントは[これ](https://developer.mozilla.org/ja/docs/Web/API/Document/write)。中の説明で

> このメソッドは構文解析の実行中に HTML パーサーの状態に影響を与え、結果として文書のソースに対応しない DOM を生成することがあります

渡された文字列を HTML として再パースして、DOM ツリーに組み込む、ってことかな。
