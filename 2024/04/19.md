### 金曜日

* 扇風機かけて寝る。冷房はまだいいか。
* 朝。公園で Operating System Concepts の発表準備。8.5 Deadlock Prevention. デッドロックが発生しないことを保証するための仕組み。現実的な解法は、循環参照が発生しないようにすること。具体的には全ての資源に番号をつけて、スレッドは番号順にしか資源を要求しないようにする。
  * 以下はデッドロックが発生するサンプルコード。スレッド１が do_work1 を実行し、スレッド２が do_work2 を実行する想定。スレッド１が `lock(&m1)` を実行した直後にスレッド２が `lock(&m2)` を実行してしまうとデッドロック発生。
  * ```c
    mutex_t m1, m2;

    void do_work1() {
      lock(&m1)
      lock(&m2)

      // ...
    }

    void do_work2() {
      lock(&m2)
      lock(&m1)

      // ...
    }
    ```
  * このようなスレッドと資源の循環参照を避けるため、あらかじめ資源に全順序をつけて、その順に資源を要求していきましょうね、と言う話。
  * もし、すでに資源を複数保持していて、新しく番号が小さい資源を要求したい場合、今持ってる資源を解放してから、資源を要求する。
* お仕事。ドキュメントｶｷｶｷφ(･ω･｀)
* 職場の方、産育休暇から復帰。一年ぶりの出社。めでたい！
* 終業。19時から内見の予定だったが、先客が予約して募集終了。内見は流れた。ぴえんではある。
* 井の頭公園をランニング：
  1. 8:26.15
  2. 7:39.19
* 晩御飯。鶏の照り焼き。[笠原氏のレシピ](https://www.youtube.com/watch?v=eE-L3C2Xcj0)で作った。 酒、醤油、みりん、砂糖。各大さじ１だとやや甘めに感じた。砂糖を半分に減らしてまた作ってみるか。
* [Documenting APIs: A guide for technical writers and engineers](https://idratherbewriting.com/learnapidoc/)
* [Build an Orchestrator in Go](https://www.amazon.co.jp/Build-Orchestrator-Go-Tim-Boring/dp/1617299758)
  * スクラッチから作ってわかる系の本。時間あるかわかんないけど、中身気になる。
* 沿革。読めるけど、意味知らなかった。