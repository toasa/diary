### 金曜日

お昼に散歩。お日柄がいいですな：

<img src="https://i.imgur.com/QvlmC0w.jpeg" width="500">

[ETOPS (Extended-range Twin-engine Operational Performance Standards)](https://ja.wikipedia.org/wiki/ETOPS)。
エンジンを２つ搭載した機体（双発機、ツインエンジンジェット）に課される飛行ルール。
一方のエンジンが停止した場合に、もう一方のエンジンだけで規定時間以内に最寄りの空港に緊急着陸できるルートだけを飛行できる、というルール。
規定時間の分数が語尾についていて、120分ならETOPS-120, 180分ならETOPS-180という。
ETOPS 準拠の普通の旅客機が南極大陸を飛べないのは、このルールが原因らしい（着陸できる空港が近くにない）。
あと、ETOPS 準拠な飛行機だと、必ずしも出発地と到着地の最短ルートを飛行するとは限らない気がする。
最短ルートには緊急着陸用の空港がないが、ちょっと迂回ルートだと適当な空港がある場合みたいな。


TCP/IP プロトコルスタック自作。
[IP ルーティングを実装](https://github.com/toasa/microps/commit/b82ca786b62be97e737e7aeed21606c053ecca0e)。
ローカルIPアドレスを持つ tap デバイス（下図のtap1）から
Google のDNSサーバ (8.8.8.8) に対して ICMP メッセージ (Echo リクエスト) を投げるテスト。
ネットワークの設定は以下：

* ローカルネット (192.0.2.0/24) 発の IP パケットは、 パケットの src アドレスをインターネットと繋がるNIC (eth0) のアドレスに書き換える（IPマスカレード）よう設定
* tap1 から tap0 へのルーティングを設定

<img src="https://i.imgur.com/9Khf2FQ.jpeg" width="500">

書いててもよくわからなくなる。が、8.8.8.8 から Echo リプライが返ってきてるので、コードはあってそう。すごい。

### 今月の歩数

|||
|---|---|
|歩数|387,850|
|ハートポイント|2,494|
