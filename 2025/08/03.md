### CS631 APUE

シンプルなウェブサーバーを作る宿題：

https://github.com/toasa/apue-cs631/tree/main/sws

とりあえず、 最もシンプルなケース（GET メソッド、URL は  index.html のみ）については正常系が動いた。
以下のようにサーバーを実行
（ポート番号は適当）：

```
$ ./sws -p 9977
```

別シェルを開き、HTTP アクセスをする：

```
tym@blue:~$ curl --http1.0 -v localhost:9977
* Host localhost:9977 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:9977...
* connect to ::1 port 9977 from ::1 port 60862 failed: Connection refused
*   Trying 127.0.0.1:9977...
* Connected to localhost (127.0.0.1) port 9977
> GET / HTTP/1.0
> Host: localhost:9977
> User-Agent: curl/8.5.0
> Accept: */*
> 
* HTTP 1.0, assume close after body
< HTTP/1.0 200 OK
< Date: Sun, 03 Aug 2025 04:11:32 GMT
< Server: sws
< Last-Modified: Sun, 03 Aug 2025 03:42:32 GMT
< Content-Type: text/html
< Content-Length: 13
< 
Hello world!
* Closing connection
```

出来ていないことは、まだいろいろとある。たとえば：

* GET 以外のメソッドをサポートする
* CGI をサポートする
* fork() していないので、複数のクライアントが接続しにきても、ひとりしか対応できない

ただ、こういうのは動くまでは頑張ってやるんだけど、
一度動いてしまうと、やる気を持続させるのが難しい。
ということで、次は何をやろう。
「作ろう！CPU」か mold のコード読みかなあ。

### 「禅とオートバイ修理技術」

[LLM時代の仕事](https://kumagi.hatenablog.com/entry/work-with-llm)で引用されていて、改めていいなと思ったので、こちらでも引用：

> たとえ困難な問題にぶつかり、試行錯誤の末、どうしてもうまくいかないことがあっても、まだ道はある。「もうだめだ。今度ばかりは何をやっても無駄だ」と思っても、理路整然とした科学的な方法がまだ残っているのである。
>
> こんなときのために必要なのが、研究ノートである。いまやっていること、過去にやったこと、そしてこれからやろうとしていること、これらをいつでも知ることができるようにいっさいもらさず書きとめておくのである。（中略）
>
> だがもし混乱するようなことが出てきたら、そのときは焦らず客観的に見直してみることが肝要である。生じた問題を一つ一つ書きとめるという行為は、混乱した頭をもとの整然とした状態に戻してやることになる。
>
> ノートはあくまで論理的な記述をする必要があるが、分類するとすれば、それは六つのカテゴリーに分けられる。
>
> 1. 問題点の記述
> 2. 原因の仮説
> 3. 各仮説をテストするための実験
> 4. 実験結果の予想
> 5. 実験結果
> 6. 実験結果から導かれた結論
>
> 以上の六つである。これは大学や高校で研究ノートを作るやり方とまったく同じだが、その目的は、単なる見せかけの仕事を行うことではない。ここでの目的は、失敗を導きかねない誤った考え方を、正確に処理することである。

新しい職場でも頑張ろう。