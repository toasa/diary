# 日曜日

F1 バーレーングランプリの予選。バーレーンとの時差は6時間なので、予選は現地で19時スタート、日本では25時スタート。
夜更かして見た。角田はQ3まで残ることができて10位。フェルスタッペンで7位だったのをみると、10位でも上出来というか、むしろマシンに原因がある気もするけど、どうなんだろ。あとは、マクラーレンコンビが相変わらず速い（1位と6位）のと、18歳のアントネッリが4位ですごいね。

# Timer Oddity Bug in MK8DX

マリオカート8DX で過去にあったバグを思い出した。
それは、一人で遊べる「タイムアタック」というモードのバグで、一部のコースで同タイムの世界記録が複数出てしまうという現象だ。
8DX のラップタイムはミリ秒単位で計測されるが、１位タイの記録保持者が複数いるのは奇妙な現象だった。
タイムには特徴があって、ミリ秒の下二桁が同じになる（例えば 00、16、33、50、66、83 ）というものだった。
当時は妙なバグだなーと流していたが、今振り返ると原因がわかる気がする。

MK8DX は 60FPS のゲームなので１秒間に60枚フレームが送られる。
つまり１つのフレーム（描画画面）が16.66ミリ秒間表示され、16.66 ミリ秒後に次のフレームが表示される。
映像の描画間隔は 16.66 ミリ秒にも関わらず、コースのタイマーは 1ミリ秒単位なので、正確なラップタイムを提供するにはゲーム内でソフトウェア的な処理が必要になる。
たとえば、[桜井さんが紹介されていたように](https://youtu.be/567g7PFkJfs?si=bZ1lEqoMa7_JGYrb&t=161)ゴールする直前のフレームの時間と速度から、ゴール時の時間を算出する方法など。
そして、Timer Oddity Bug と話題になったバグは、この処理が抜けてたのでは、と思う。

